# Double Pendulum Visualizer & Comparator

This project implements a Double Pendulum simulation using two different approaches:
1. **C++ Implementation**: Solves the equations of motion using the Runge-Kutta 4 (RK4) numerical integration method.
2. **Python Implementation**: Derives the equations of motion using Lagrangian mechanics with `sympy` and solves them using `scipy.integrate.odeint`.

The project allows you to visualize the motion of the double pendulum and compares the accuracy/behavior of the C++ implementation against the Python "ground truth" (or reference) implementation.

## Project Structure

- `src/main.cp`: C++ source code for the simulation. Uses RK4 to integrate the system state over time. Outputs results to `pendulum.csv`.
- `src/main.py`: Standalone Python simulation. Uses SymPy to interpret the physics and simple matplotlib animation.
- `src/visualize.py`: The main visualization tool. It:
    - Reads the simulation data generated by the C++ executable (`pendulum.csv`).
    - Runs the Python simulation on the fly.
    - Creates a side-by-side (overlay) animation to compare both simulations.
- `pendulum.csv`: Output data file containing time, angles, and angular velocities (generated by the C++ executable).

## Prerequisites

- **C++ Compiler**: `g++` or compatible (MinGW for Windows, Clang/GCC for Linux/Mac).
- **Python 3.x**
- **Python Packages**:
    - `numpy`
    - `sympy`
    - `scipy`
    - `matplotlib`
    - `pandas`

## Setup

1. **Install Python Dependencies:**

   ```bash
   pip install -r requirements.txt
   ```

2. **Compile the C++ Code:**

   Navigate to the project root and run:
   ```bash
   g++ src/main.cp -o main.exe
   ```
   *(Note: The source file extends with `.cp`, which is treated as C++ here)*

## How to Run

1. **Run the C++ Simulation:**
   This generates the data file `pendulum.csv`.
   ```bash
   ./main.exe
   ```

2. **Visualize and Compare:**
   Run the visualization script to see the C++ result overlaid with the Python simulation.
   ```bash
   python src/visualize.py
   ```

   **Visualization Key:**
   - **Red Loop/Line**: C++ Simulation (RK4 Custom Implementation)
   - **Cyan Dashed Line**: Python Simulation (SciPy Reference Implementation)
   - **Yellow Trace**: Path history of the second pendulum bob (from C++ data)

## Implementation Details

- **Physics**: The system consists of two masses $m_1$ and $m_2$ connected by rigid rods of length $l_1$ and $l_2$.
- **Integration**:
    - C++ uses a fixed timestep `dt` derived from parameters (40s simulation, 1001 steps).
    - Python uses `lsoda` (via `odeint`) which is an adaptive step-size solver, providing a high-accuracy reference.
    - The visualization script shows the C++ result overlaid with the Python simulation, revealing discrepancies in the behavior of the two simulations, resulting from the different integration methods, showing the limitations of fixed timestep integration.
